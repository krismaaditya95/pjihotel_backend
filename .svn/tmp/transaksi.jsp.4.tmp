<%@ include file = "header.jsp" %>
<%@ include file = "nav.jsp" %>

<<<<<<< .mine
	<div class="transaksi-div-wrapper container text-center" id="tasksDiv" ng-app = "transaksiApp" ng-controller="transaksiCtrl">
		<h3 class="h3title">Data Check In</h3>
		<%-- ${sessionScope.idPengguna}
		${sessionScope.userName}
		${sessionScope.idUserRole}
		${sessionScope.userRoleName} --%>
=======
	<div class="w3-container" style="margin-left: 200px">
		<div class="jumbotron text-center">
			<h3>PJI Hotel</h3>
		</div>
	
	<div class="container text-center" id="tasksDiv" ng-app = "transaksi" ng-controller="transaksiCtrl">
		<h3>Data Check In</h3>
>>>>>>> .r141
		<hr>
		<div class="table-responsive">
			<table class="table table-striped table-bordered text-left">
				<thead>
					<tr>
						<th>No.</th>
						<%-- <th>Id.Transaksi</th> --%>
						<%-- <th>Id Customer</th> --%>
						<th>Nama Tamu</th>
						<%-- <th>Id Kamar</th> --%>
						<th>Kamar</th>
						<th>Tanggal Check In</th>
						<th>Waktu Check In</th>
						<th>Tanggal Check Out</th>
						<th>Waktu Check Out</th>
						<%-- <th>Id Status Check</th> --%>
						<th>Status CheckIn/Out</th>
						<th>Total Harga</th>
						<th colspan = "2">Pilihan</th>

					</tr>
				</thead>

				<%-- JSP biasa --%>
				<%-- <tbody> --%>
					<%-- <c:forEach var="transaksi" items="${transactions}">
						<tr>
							<td>${transaksi.idTransaksi}</td>
							<td>${transaksi.customer.namaCustomer}</td>
							<td>${transaksi.idKamar}</td>
							<td>${transaksi.kamar.noKamar}</td>
							<td>${transaksi.checkInDate}</td>
							<td>${transaksi.checkInTime}</td>
							<td>${transaksi.checkOutDate}</td>
							<td>${transaksi.checkOutTime}</td>
							<td>${transaksi.idStatusCheck}</td>
							<td>${transaksi.statusCheck.namaStatus}</td>
							<td>${transaksi.totalHarga}</td>
						</tr>
					</c:forEach> --%>
				<%-- </tbody> --%>

				<%-- Javascript AJAXs --%>
				<%-- <tbody id="tbodytransc">

				</tbody> --%>

				<tbody>
					<%-- {{transaksiData}} --%>
					<tr ng-repeat="transaksi in transaksis">
						<td>{{transaksi.idTransaksi}}</td>
						<td>{{transaksi.customer.namaCustomer}}</td>
						<td>{{transaksi.kamar.noKamar}}</td>
						<td>{{transaksi.checkInDate | date : "mediumDate" }}</td>
						<td>{{transaksi.checkInTime | date : "HH:mm" }}</td>
						<td>{{transaksi.checkOutDate | date : "mediumDate" }}</td>
						<td>{{transaksi.checkOutTime | date : "HH:mm" }}</td>
						<td>{{transaksi.statusCheck.namaStatus}}</td>
						<td>{{transaksi.totalHarga | currency : "Rp." : 0}}</td>
						<td><a href="#edit" id="showEditTrxModal">Edit</a></td>

						<%-- Modal --%>
						<div ="editTrxModal" class="edittrxmodal" data="">

						</div>

						<td><a href="#edit">Delete</a></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<<<<<<< .mine


	<script type="text/javascript">

	</script>
<%@ include file = "footer.jsp" %>

=======
</div>
>>>>>>> .r141
<%-- Angular --%>
<%-- <script>
	var url = "http://localhost:7080/pjihotel/api/v1/getAllTransaksi";
	var app = angular.module('transaksiApp', []);
	app.controller('transaksiCtrl', function($scope, $http){
		$http.get(url).then(function(response){
			$scope.transaksis = response.data;
		});
	});
</script> --%>

<%-- Javascript AJAX --%>
<%-- <script>
$(document).ready(function(){

	$(function(){
		fetch_data();
		function fetch_data(){
					$.ajax({
						type: 'get',
						url: 'http://localhost:7080/pjihotel/api/v1/getAllTransaksi',
						async: false,
						dataType: 'json',
						success: function(data){
							var html='';
							var i;
							for(i=0; i<data.length; i++){
								html +=
								'<tr>'+
								'<td>'+i+1+'</td>'+
								'<td>'+data[i].idTransaksi+'</td>'+
								'<td>'+data[i].customer.namaCustomer+'</td>'+
								// '<td>'+data[i].customer.namaCustomer+'</td>'+
								'<td>'+data[i].kamar.noKamar+'</td>'+
								// '<td>'+data[i].kamar.noKamar+'</td>'+
								'<td>'+data[i].checkInDate+'</td>'+
								'<td>'+data[i].checkInTime+'</td>'+
								'<td>'+data[i].checkOutDate+'</td>'+
								'<td>'+data[i].checkOutTime+'</td>'+
								// '<td>'+data[i].idStatusCheck+'</td>'+
								// '<td>'+data[i].statusCheck.namaStatus+'</td>'+
								'<td>'+data[i].statusCheck.namaStatus+'</td>'+
								'<td>'+data[i].totalHarga+'</td>'
							}
							$('#tbodytransc').html(html);
						},
						error: function(){
							alert('Gagal');
						}
					});
				}
	});
});
</script> --%>
